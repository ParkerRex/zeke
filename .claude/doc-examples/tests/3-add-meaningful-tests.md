add test cases for edge conditions in the notification service