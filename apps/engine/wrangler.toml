compatibility_date = "2024-11-11"
workers_dev = false
logpush = true
compatibility_flags = ["nodejs_compat_v2"]

[vars]
# Set via `wrangler secret put` per environment; empty defaults enable local dev.
TRIGGER_PROJECT_ID = ""
TRIGGER_SECRET_KEY = ""
TRIGGER_WEBHOOK_SECRET = ""
API_SECRET_KEY = ""
YOUTUBE_API_KEY = ""
YOUTUBE_QUOTA_LIMIT = "0"
YOUTUBE_QUOTA_RESET_HOUR = "0"
YOUTUBE_RATE_LIMIT_BUFFER = "0"

[observability]
enabled = true


[env.production]
name = "engine"
route = { pattern = "engine.zekehq.com/*", zone_name = "zekehq.com" }

kv_namespaces = [
  { binding = "KV", id = "TODO" }
]

r2_buckets = [
  { binding = "STORAGE", bucket_name = "TODO", preview_bucket_name = "", jurisdiction = "eu" }
]

[env.production.ai]
binding = "AI"
provider = "llama"
model = "llama-3.3"
jurisdiction = "eu"

[env.staging]
name = "engine-staging"
route = { pattern = "engine-staging.zekehq.com/*", zone_name = "zekehq.com" }

kv_namespaces = [
  { binding = "KV", id = "TODO" }
]


r2_buckets = [
  { binding = "STORAGE", bucket_name = "TODO", preview_bucket_name = "", jurisdiction = "eu" }
]

[env.staging.ai]
binding = "AI"
provider = "llama"
model = "llama-3.3"
jurisdiction = "eu"
